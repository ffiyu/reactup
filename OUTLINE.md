# 理解组件

## 什么是组件

### 组件是 JavaScript 函数

- 许多初学者认为 React 把组件函数进行层层封装，注入了许多魔法。但这里要强调，组件就是普通的 JavaScript 函数。
- 具有 JavaScript 函数的所有特性，一等公民，闭包，递归等。提及 HOC。
- 具有 JavaScript 函数的限制。提及无状态组件，提及 hook。
- 组件每次渲染，都是一次函数执行。
- 现在看起来像是一句废话，但是，理解这点很重要，后面会反复提及。
- 示例：组件内部变量。

### 不要从类组件的角度理解函数组件

- 这是两种完全不同的实现方式。
- 函数组件不是类组件的语法糖。
- 不讨论类组件。

### 组件应该是纯函数

- 什么是纯函数？
- 为什么组件应该是纯函数
- props 和 state 是组件的输入。

### 组件是数据到视图的映射

- 从一个抽象的角度理解组件。
- 提醒我们如何编写一个组件：把数据转成 UI。

### 组件函数是一个工厂

- 函数组件是工厂，生产的产品是组件实例。
- 一次函数执行，返回一个组件实例。
- 组件的状态如何维护？

### 组件函数与 renderXxx 函数

## 理解 JSX 语法

### JSX 是一种 JavaScript 语法糖

- JSX 是 JavaScript 的拓展语法，支持在 JavaScript 使用类似 HTML 的写法。解决 HTML 适合编写页面结构，但不支持 if/for 等编程逻辑的问题。

- jsx 与 模版语法的区别。

### JSX 编译过程

### ReactElement 对象

### 再看函数组件

- 函数组件返回 React Element，每次执行，都会创建新的元素对象（实例）。

### Button 与 <Button />

### 组件（Component）、元素（Element）、节点（Node）

- 元素复制

### React.Fragment(<></>)

## 组件函数什么时候执行

### 初次渲染

### 父组件更新

### 状态/Context 更新

### 冗余执行

### React.Memo()

- 与 useMemo()

### StrictMode

### 组件外层的 setState
